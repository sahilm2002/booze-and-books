# üìöüç∑ Booze & Books

**The social platform for book lovers to share, discover, and swap their favorite reads**

Booze & Books is a modern web application that combines the joy of reading with the thrill of discovery. Whether you're looking to declutter your bookshelf, find your next great read, or connect with fellow book enthusiasts, our platform makes it easy to share and swap books with readers in your community.

## üéØ What is Booze & Books?

Imagine having access to a vast library of books owned by fellow readers in your area, with the ability to swap titles you've already enjoyed for new adventures waiting to be discovered. Booze & Books transforms book ownership from a solitary experience into a community-driven journey of literary exploration.

## ‚ú® What Can You Do?

### üìñ **Build Your Digital Library**
- **Add Your Books**: Easily catalog your personal book collection with title, author, genre, and condition
- **Google Books Integration**: Quickly add books by searching Google's vast database - complete with covers and metadata
- **Organize by Genre**: Categorize your books by fiction, mystery, romance, sci-fi, and more
- **Track Condition**: Note whether your books are like new, good, or well-loved

### üîç **Discover New Reads**
- **Browse Available Books**: Explore books that other users are willing to swap
- **Smart Filtering**: Find books by genre, condition, or search for specific titles and authors
- **Real-Time Updates**: See newly available books as they're added to the platform
- **Personalized Discovery**: Get recommendations based on your reading preferences

### üîÑ **The Smart Swap System**

#### **Make Swap Requests**
- Browse available books and request swaps with other users
- Offer one of your books in exchange for theirs
- Include personal messages to connect with fellow readers
- **Smart Validation**: System prevents requesting your own books or unavailable titles

#### **Counter-Offer Magic** ‚≠ê **NEW**
- **Professional Counter-Offer Modal**: Beautiful interface for selecting alternative books with covers and details
- **3-Book Visual Flow**: Clear display showing "They want ‚Üí They offered (declined) ‚Üí Your counter-offer (new)"
- **Smart Book Selection**: Auto-loads your available books with interactive selection grid
- **Personalized Messages**: Add custom messages explaining why your counter-offer is perfect
- **Automatic Book Management**: System handles book availability - original offer becomes available, counter-offer gets reserved
- **Dual Perspective Display**: Both parties see the complete 3-book exchange flow from their perspective

#### **Enhanced Notifications**
- **Visual Book Covers**: See book cover images in all swap notifications
- **Rich Details**: View book title, authors, and condition directly in notifications
- **Smart Navigation**: Click notifications to jump to the right swap requests tab
- **Real-Time Updates**: Instant notifications for all swap status changes

#### **Seamless Communication**
- **Real-Time Chat System**: Direct messaging between users for swap discussions
- **Chat Notifications**: Instant notifications for new messages with conversation previews
- **Secure File Sharing**: Share images and documents (up to 10MB) in chat conversations
- **Contact Information Sharing**: When both parties agree to a swap, contact details are automatically shared
- **Email Notifications**: Stay updated on swap requests, approvals, and counter-offers
- **In-App Notifications**: Real-time updates with book covers and detailed information

#### **Complete the Exchange**
- **Rate Your Experience**: After swapping books, rate your exchange partner
- **Build Reputation**: Earn trust in the community through successful swaps
- **Leave Feedback**: Help others by sharing your swap experience
- **Cancel Anytime**: Either party can cancel pending requests with proper notifications

### üìä **Track Your Journey**
- **Swap Statistics**: See how many successful swaps you've completed
- **Reading History**: Keep track of books you've read through the platform
- **Community Rating**: Build your reputation as a reliable swapper
- **Personal Dashboard**: Overview of your active requests and available books

### üè† **Manage Your Profile**
- **Personal Information**: Customize your profile with username, bio, and preferences
- **Reading Preferences**: Share your favorite genres and authors
- **Swap History**: View all your past exchanges and ratings received
- **Privacy Controls**: Decide what information to share with the community

## üåü Key Features That Make Us Special

### **üöÄ Real-Time Experience**
Books become available or unavailable instantly as swaps are made. No more disappointment from outdated listings!

### **ü§ù Trust & Safety**
- User ratings and feedback system
- Secure contact information sharing
- Community-driven reputation building

### **üí° Smart Matching**
Our system automatically filters out books that are already in pending swaps, ensuring you only see truly available options.

### **üì± Modern Interface**
Clean, intuitive design that works beautifully on desktop, tablet, and mobile devices.

### **üîî Enhanced Notifications**
Never miss an opportunity with rich, visual notifications featuring book covers, detailed information, and smart navigation to the right content.

## üéØ Perfect For...

- **Avid Readers** who want to discover new books without buying them all
- **Book Collectors** looking to refresh their libraries while sharing favorites
- **Budget-Conscious Readers** who want access to more books without the expense
- **Eco-Conscious Individuals** interested in giving books a second life
- **Community Builders** who love connecting with like-minded book enthusiasts
- **Space-Conscious Readers** who need to manage their physical book collections

## üöÄ Getting Started

### **üì± Mobile-First Experience**
Booze & Books is designed for mobile users - 90% of our community uses their phones! Every feature works seamlessly on your smartphone.

### **üè† Discover the Platform**
1. **Visit the Homepage**: Learn how the platform works with our interactive 3-step guide
2. **Explore Literary History**: Discover stories about famous literary societies like the Kit-Cat Club and Bloomsbury Group
3. **Generate New Stories**: Click "Discover More Stories" to learn about different historical book communities
4. **Research Further**: Use Wikipedia links to dive deeper into literary society history

### **üë§ Join the Community**
1. **Sign Up**: Create your free account to join the community
2. **Complete Your Profile**: Add your username, bio, and reading preferences
3. **Upload an Avatar**: Personalize your profile with a photo

### **üìö Build Your Library**
1. **Add Books**: Start by adding books from your collection using our Google Books integration
2. **Set Availability**: Mark which books you're willing to lend or trade
3. **Add Details**: Include condition notes and personal reviews

### **üîç Start Swapping**
1. **Explore**: Browse what other readers have available
2. **Make Requests**: Find books you'd like to read and propose swaps
3. **Chat**: Use our real-time messaging system to discuss exchanges
4. **Connect**: When swaps are approved, contact details are automatically shared
5. **Exchange**: Meet up or arrange shipping to complete your swaps
6. **Rate**: Share your experience to build community trust

### **üí¨ Stay Connected**
- **Real-Time Chat**: Message other users directly about book swaps
- **Online Status**: See when other users are available to chat
- **Notifications**: Get instant updates about swap requests and messages
- **Profile Navigation**: Click usernames/avatars to view other users' profiles

## üåà Success Stories

*"I've discovered amazing authors I never would have found otherwise. The counter-offer feature helped me find the perfect match when my first choice wasn't available."* - Sarah M.

*"As someone with limited shelf space, Booze & Books lets me enjoy new books while sharing my favorites with others. It's like having a neighborhood library!"* - James T.

*"The real-time updates are fantastic - I never waste time requesting books that aren't actually available anymore."* - Maria L.

## üõ°Ô∏è Privacy & Security

We take your privacy seriously:
- Contact information is only shared when both parties agree to a swap
- You control what personal information is visible on your profile
- Secure authentication powered by Supabase
- No personal data is sold or shared with third parties

## üåç Community Guidelines

- Be respectful and honest in all interactions
- Accurately describe your books' conditions
- Follow through on approved swaps
- Rate your experiences fairly to help the community
- Report any inappropriate behavior

## üõ†Ô∏è Technical Features & Improvements

### **Recent Enhancements (v1.4)**
- **Complete Counter-Offer System**: Professional modal interface with book selection grid and 3-book visual flow
- **Smart Book Availability Management**: Automatic handling of book availability during counter-offer process
- **Comprehensive Notification System**: Personalized notifications with user names and complete book context for all swap scenarios
- **Enhanced Swap Card Display**: 3-book flow visualization showing complete counter-offer progression
- **Responsive Counter-Offer UI**: Mobile-optimized interface with touch-friendly interactions
- **Intelligent Book Selection**: Auto-loading available books with interactive selection and visual feedback

### **Previous Enhancements (v1.3)**
- **Modernized Contact Interface**: Professional contact information cards with user avatars and styled email buttons
- **Enhanced Swap UI**: Consistent button styling across all swap request interactions with proper spacing
- **Status Badge Improvements**: Unified status indicator design matching discovery page aesthetics
- **Database Optimization**: Fixed notification triggers and eliminated deprecated column references
- **Robust Error Handling**: Comprehensive UUID validation preventing database parsing errors
- **Visual Consistency**: Standardized spacing and typography throughout the swap interface
- **Enhanced Notification System**: Visual book covers in notifications with comprehensive book details
- **Smart Data Consistency**: Database triggers ensure accurate book ownership relationships
- **Improved Type Safety**: Full TypeScript implementation with proper interfaces
- **Intelligent Navigation**: Context-aware routing based on notification types

### **Tech Stack**
- **Frontend**: SvelteKit with TypeScript
- **Backend**: Supabase (PostgreSQL + PostgREST)
- **Authentication**: Supabase Auth with Row Level Security
- **Real-time**: Supabase Realtime for live notifications
- **External APIs**: Google Books API for book metadata
- **Styling**: Custom CSS with modern design principles

### **Database Architecture**
- **Row Level Security (RLS)**: Comprehensive security policies for data protection
- **Automated Triggers**: Database-level validation and notification creation
- **Optimized Queries**: Efficient data fetching with proper indexing
- **Data Integrity**: Foreign key constraints and validation functions

## üîê Google Sign-In (Supabase OAuth)

Add ‚ÄúContinue with Google‚Äù using Supabase Auth.

1) Supabase configuration
- In Supabase Dashboard ‚Üí Authentication ‚Üí Providers ‚Üí Google:
  - Enable provider
  - Add your Google OAuth Client ID/Secret
  - Add Redirect URLs (all that apply):
    - http://localhost:5173
    - https://boozeandbooks.me
    - Your Vercel preview URLs (example): https://boozeand-books-<branch>-<hash>.vercel.app
- Save changes

2) App behavior
- The Login and Signup pages now include a Continue with Google button
- On first login, a profile row is auto-created (username from email local part); subsequent logins reuse the profile
- Post-redirect, the session is available to the app via Supabase SSR hooks

3) Local testing
- Start dev server (npm run dev) and open http://localhost:5173
- Use Continue with Google
- Verify you land in /app and your profile is visible

4) Production testing (Vercel)
- Ensure ‚Äúhttps://boozeandbooks.me‚Äù is included in provider redirects
- Add preview domains as needed (no wildcards; add each preview URL if required)

## üß∞ Cline MCP: Supabase server configuration

Use the Supabase MCP server to read/update auth provider settings directly from Cline.

1) Configure MCP server (example JSON)
{
  "servers": {
    "supabase": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/supabase-mcp@latest"],
      "env": {
        "SUPABASE_ACCESS_TOKEN": "YOUR_SUPABASE_PAT",
        "SUPABASE_PROJECT_ID": "YOUR_PROJECT_REF"
      }
    }
  }
}

- SUPABASE_ACCESS_TOKEN: Create a Personal Access Token in Supabase (Account ‚Üí Access Tokens)
- SUPABASE_PROJECT_ID: The project ref from Supabase (visible in project settings or URL)
- Restart Cline so the ‚Äúsupabase‚Äù server loads
- From there, tools like list_providers/get_provider/update_provider can be used to verify enablement and set redirect URLs

## üßπ Production readiness: logging and migrations

- Client logging trimmed in production: console.log/info/debug are suppressed in browser for non-local hosts (errors/warnings remain visible). This keeps production logs clean while preserving critical diagnostics.
- Server-side logs remain unchanged (errors/warnings preserved). If additional trimming is desired, gate logs in server code under import.meta.env.DEV.
- Database migrations: keep full history for reproducibility. Do not delete past migrations; if a migration is obsolete, document it rather than removing it.

## üìû Support & Feedback

Having issues or suggestions? We'd love to hear from you:
- Check our comprehensive help documentation
- Browse frequently asked questions
- Contact our support team through the app

---

**Join the Booze & Books community today and transform the way you discover, share, and enjoy books!**

*Happy Reading & Happy Swapping! üìö‚ú®*
# Trigger Vercel redeploy with vercel.json fix
# Force deployment from main branch - Mon Sep 15 17:12:12 PDT 2025
